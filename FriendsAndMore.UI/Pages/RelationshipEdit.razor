@page "/RelationshipEdit/{ContactId}"
@page "/RelationshipEdit/{ContactId}/{RelationshipId}"
@inherits RelationshipEditBase

<section class="column">
    <div class="box contact-edit">
        <h3></h3>

        @if (!Saved)
        {
            <EditForm Model="@Relationship" OnValidSubmit="@HandleValidSubmit" OnInvalidSubmit="@HandleInvalidSubmit">
                <DataAnnotationsValidator/>
                <ValidationSummary/>

                <div class="field">
                    <label for="type" class="label">Type: </label>
                    <div class="control">
                        <InputText id="type" class="input" @bind-Value="@Relationship.Type" placeholder="Type e.g. Wife"></InputText>
                        <ValidationMessage class="" For="@(() => Relationship.Type)"/>
                    </div>
                </div>
                <div class="field">
                    <label for="person" class="label">Person: </label>
                    <div class="control">
                        <InputText id="person" class="input" @bind-Value="@Relationship.Person" placeholder="Jane Smith"></InputText>
                        <ValidationMessage class="" For="@(() => Relationship.Person)"/>
                    </div>
                </div>

                <button type="submit" class="button is-info is-medium">Save</button>
                <a class="button is-danger is-medium" @onclick="@NavigateToContact">Cancel</a>
            </EditForm>
        }
        else
        {
            <article class="message @StatusClass">
                <div class="message-header">
                    <p>@MessageTitle</p>
                </div>
                <div class="message-body">
                    @Message
                </div>
            </article>
            <a class="button is-info is-outlined" @onclick="@NavigateToContact">Back to contact</a>
        }
    </div>
</section>